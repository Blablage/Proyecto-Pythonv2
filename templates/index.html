<html>
  <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous"/>
  </head>
  <body>
    <br>
    {% block content %}
    <form method="POST" id="form_Tabla">
    <table class="table table-striped table-bordered table-hover">
      <thead>
      <tr>
        <th><input type="hidden" value="" id="input_usuario" name="usuario">Usuario</th>
        <th><input type="hidden" value="" id="input_tarjeta" name="tarjeta">Nombre Tarjeta</th>
        <th><input type="hidden" value="" id="input_tasa" name="tasa">Tasa Interes</th>
        <th><input type="hidden" value="" id="input_deuda" name="deuda">Deuda Inicial</th>
        <th>Por abonar</th>
      </tr>
    </thead>
    <tbody>
      {% for row in csv %}
      <tr>
        {% for col in row.strip().split(",") %}
        <td>{{ col }}</td>
        {% endfor %}
        <td><button type="submit" onclick="calculate('{{row.strip()}}')">Calcular</button></td>
        </tr>
      {% endfor %}
    </tbody>
    </table>
    </form>
    {% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <script type="text/javascript">
      function calculate(parametro){
        var data = parametro.split(',');

        var usuario = document.getElementById("input_usuario")
        var tarjeta = document.getElementById("input_tarjeta")
        var tasa = document.getElementById("input_tasa")
        var deuda = document.getElementById("input_deuda")

        usuario.value = data[0]
        tarjeta.value = data[1]
        tasa.value = data[2]
        deuda.value = data[3]

        console.log(deuda.value)

      }
    </script>

  </body>
</html>